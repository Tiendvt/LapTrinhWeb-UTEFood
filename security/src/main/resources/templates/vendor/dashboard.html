<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">
<head>
    <meta charset="UTF-8">
    <title>Vendor Dashboard</title>
</head>
<body>
    <section>
		<nav class="navbar navbar-expand-lg navbar-dark">
		      <div class="container-fluid">
		          <a class="navbar-brand" href="/">
		              <i class="fa fa-shopping-cart"></i> UTE FOOD SHOP
		          </a>
		          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
		              <span class="navbar-toggler-icon"></span>
		          </button>
		          <div class="collapse navbar-collapse" id="navbarNav">
		              <ul class="navbar-nav me-auto">
		                  <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
		                  <li class="nav-item"><a class="nav-link" href="/product">Product</a></li>
		                  <li class="nav-item dropdown">
		                      <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">
		                          Category
		                      </a>
		                      <ul class="dropdown-menu">
		                          <li><a class="dropdown-item" href="/category/food">Food</a></li>
		                          <li><a class="dropdown-item" href="/category/drinks">Drinks</a></li>
		                      </ul>
		                  </li>
		              </ul>
		              <ul class="navbar-nav me-auto">
		                  <li class="nav-item"><a class="nav-link" href="/user/profile">Profile</a></li>
		                  <li class="nav-item"><a class="nav-link" href="/user/cart">Cart</a></li>
		                  <li class="nav-item"><a class="nav-link" href="/login">Logout</a></li>
		              </ul>
		          </div>
		      </div>
		  </nav>
		
        <div class="container mt-5">
            <div class="row">
                <div class="col-12 text-center">
                    <h1>Welcome, Vendor</h1>
                    <p class="text-muted">Manage your shop, products, and orders.</p>
                </div>
            </div>

            <div class="row mt-4">
                <!-- Shop Details -->
                <div class="col-md-4">
                    <div class="card shadow-sm">
                        <div class="card-body text-center">
                            <h5 class="card-title">Shop Details</h5>
                            <th:block th:if="${shop != null}">
                                <!-- Shop logo display -->
                                <th:block th:if="${shop.logo}">
                                    <img th:src="@{'/img/shop_img/' + ${shop.logo}}" alt="Shop Logo" class="img-thumbnail" style="width: 100px; height: 100px;">
                                </th:block>
                                <p><strong>Shop Name:</strong> [[${shop.name}]]</p>
                                <p><strong>Owner:</strong> [[${shop.owner.name}]]</p>
                                <p><strong>Sold:</strong> [[${shop.sold}]]</p> <!-- Display sold count -->
                                <p><strong>Revenue:</strong> &#8377;[[${shop.revenue}]]</p> <!-- Display revenue -->
                                <a href="/vendor/shop-settings" class="btn btn-primary">Edit Shop</a>
                            </th:block>
                            <th:block th:if="${shop == null}">
                                <p class="text-danger">No shop found.</p>
                                <a href="/vendor/create-shop" class="btn btn-success">Create Shop</a>
                            </th:block>
                        </div>
                    </div>
                </div>

                <!-- Products Section -->
                <div class="col-md-4">
                    <div class="card shadow-sm">
                        <div class="card-body text-center">
                            <h5 class="card-title">Products</h5>
                            <th:block th:if="${shop != null}">
                                <a href="/vendor/products" class="btn btn-primary">View Products</a>
                                <a href="/vendor/add-product" class="btn btn-success">Add Product</a>
                            </th:block>
                            <th:block th:if="${shop == null}">
                                <p class="text-danger">No products available. Create your shop first.</p>
                            </th:block>
                        </div>
                    </div>
                </div>

                <!-- Orders Section -->
                <div class="col-md-4">
                    <div class="card shadow-sm">
                        <div class="card-body text-center">
                            <h5 class="card-title">Orders</h5>
                            <th:block th:if="${shop != null}">
                                <a href="/vendor/orders" class="btn btn-primary">View Orders</a>
                            </th:block>
                            <th:block th:if="${shop == null}">
                                <p class="text-danger">No orders available. Create your shop first.</p>
                            </th:block>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                
                    <div class="card shadow-sm">
                        <div class="card-body text-center">
                            <h5 class="card-title">Manage Discounts</h5>
                            <th:block th:if="${shop != null}">
                                <a href="/vendor/discounted-products" class="btn btn-warning">Manage Discounts</a>
                            </th:block>
                            <th:block th:if="${shop == null}">
                                <p class="text-danger">No products available to apply discounts. Create your shop first.</p>
                            </th:block>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </section>
</body>
</html>
