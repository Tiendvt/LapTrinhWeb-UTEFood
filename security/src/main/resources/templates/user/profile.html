<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>User Profile</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>
	<section class="d-flex justify-content-center align-items-center vh-100">
		<div class="container mt-5 bg-light p-4 rounded shadow" style="max-width: 900px; width: 100%;">
			<div class="row">
				<!-- Left: Profile -->
				<div class="col-lg-6 col-md-12">
					<h4 class="text-center fw-bold mb-4">My Profile</h4>
					<th:block th:if="${session.succMsg}">
						<div class="alert alert-success text-center">[[${session.succMsg}]]</div>
						<th:block th:text="${@commnServiceImpl.removeSessionMessage()}"></th:block>
					</th:block>
					<th:block th:if="${session.errorMsg}">
						<div class="alert alert-danger text-center">[[${session.errorMsg}]]</div>
						<th:block th:text="${@commnServiceImpl.removeSessionMessage()}"></th:block>
					</th:block>
					<div class="text-center mb-3">
						<img alt="Profile Image" th:src="@{'../img/profile_img/'+${user.profileImage}}"
							class="rounded-circle border p-2" style="width: 120px; height: 120px;">
					</div>
					<form action="/user/update-profile" method="post" enctype="multipart/form-data">
						<table class="table table-borderless">
							<tbody>
								<tr>
<<<<<<< HEAD
									<th scope="row">Name</th>
									<td>:</td>
									<td><input type="text" name="name" class="form-control"
										th:value="${user.name}"></td>
								</tr>
								<tr>
									<th scope="row">Mobile Number</th>
									<td>:</td>
									<td><input type="text" name="mobileNumber"
										class="form-control" th:value="${user.mobileNumber}"></td>
								</tr>
								<tr>
									<th scope="row">Email</th>
									<td>:</td>
									<td><input type="text" name="" class="form-control"
										readonly th:value="${user.email}"></td>
								</tr>
								<tr>
									<th scope="row">Address</th>
									<td>:</td>
									<td><input type="text" name="address" class="form-control"
										th:value="${user.address}"></td>
								</tr>
								<tr>
									<th scope="row">City</th>
									<td>:</td>
									<td><input type="text" name="city" class="form-control"
										th:value="${user.city}"></td>
								</tr>
								<tr>
									<th scope="row">Province</th>
									<td>:</td>
									<td><input type="text" name="province" class="form-control"
										th:value="${user.province}"></td>
								</tr>
								<tr>
									<th scope="row">Pincode</th>
									<td>:</td>
									<td><input type="text" name="pincode" class="form-control"
										th:value="${user.pincode}"></td>
								</tr>
								<tr>
									<th scope="row">Image</th>
									<td>:</td>
									<td><input type="file" name="img" class="form-control"
										value=""></td>
								</tr>
								<tr>
									<th scope="row">Role</th>
									<td>:</td>
									<td><input type="text" name="" class="form-control"
										readonly th:value="${user.role}"></td>
								</tr>
								<tr>
									<th scope="row">Account Status</th>
									<td>:</td>
									<td><input type="text" name="" class="form-control"
										readonly th:value="${user.isEnable}"> <input
										type="hidden" th:value="${user.id}" name="id"></td>
								</tr>

								<tr>
									<td></td>
									<td class="text-center">
										<button class="btn btn-sm bg-primary text-light">Update</button>
=======
									<th>Name</th>
									<td><input type="text" name="name" class="form-control" th:value="${user.name}">
									</td>
								</tr>
								<tr>
									<th>Mobile</th>
									<td><input type="text" name="mobileNumber" class="form-control"
											th:value="${user.mobileNumber}"></td>
								</tr>
								<tr>
									<th>Email</th>
									<td><input type="text" readonly class="form-control" th:value="${user.email}"></td>
								</tr>
								<tr>
									<th>Address</th>
									<td><input type="text" name="address" class="form-control"
											th:value="${user.address}"></td>
								</tr>
								<tr>
								<tr>
									<th>City/Province</th>
									<td>
										<div class="d-flex">
											<input type="text" name="city" class="form-control me-2" placeholder="City"
												th:value="${user.city}">
											<input type="text" name="province" class="form-control"
												placeholder="Province" th:value="${user.province}">
										</div>
									</td>
								</tr>
								<tr>
									<th>Pincode</th>
									<td><input type="text" name="pincode" class="form-control"
											th:value="${user.pincode}"></td>
								</tr>
								<tr>
									<th>Profile Image</th>
									<td><input type="file" name="img" class="form-control"></td>
								</tr>
								<tr>
									<td colspan="2" class="text-center">
										<button type="submit" class="btn btn-primary w-75">Update Profile</button>
>>>>>>> 788fdfba89a28198b4b689762d1d5925ae2b386a
									</td>
								</tr>
							</tbody>
						</table>
<<<<<<< HEAD

					</div>

				</div>
				<hr>
				<div class="col-md-10 offset-md-1 mt-1">
					<div class="row">
						<p class="text-center fs-3">Change Password</p>
						<div class="col-md-6 offset-md-3">
							<table class="table table-borderless">

								<tbody>
									<form action="/user/change-password" method="post">
										<tr>
											<th scope="row">Current Password</th>

											<td><input type="text" name="currentPassword" class="form-control"></td>
										</tr>

										<tr>
											<th scope="row">New Password</th>

											<td><input type="text" name="newPassword" class="form-control" required></td>
										</tr>

										<tr>
											<th scope="row">Confirm Password</th>

											<td><input type="text" name="confirmPassword" class="form-control" ></td>
										</tr>
										<tr>
											<td></td>
											<td class="text-center">
												<button class="btn btn-sm bg-primary text-light col-md-4">Update</button>
											</td>

										</tr>
									</form>
								</tbody>
							</table>
						</div>
					</div>
=======
					</form>
>>>>>>> 788fdfba89a28198b4b689762d1d5925ae2b386a
				</div>

				<!-- Right: Change Password -->
				<div class="col-lg-6 col-md-12">
					<h4 class="text-center fw-bold mb-4">Change Password</h4>
					<form action="/user/change-password" method="post">
						<table class="table table-borderless">
							<tbody>
								<tr>
									<th>Current Password</th>
									<td><input type="password" name="currentPassword" class="form-control" required>
									</td>
								</tr>
								<tr>
									<th>New Password</th>
									<td><input type="password" name="newPassword" class="form-control" required></td>
								</tr>
								<tr>
									<th>Confirm Password</th>
									<td><input type="password" name="confirmPassword" class="form-control" required>
									</td>
								</tr>
								<tr>
									<td colspan="2" class="text-center">
										<button type="submit" class="btn btn-primary w-75">Update Password</button>
									</td>
								</tr>
							</tbody>
						</table>
					</form>
				</div>
			</div>
		</div>
	</section>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>